{"version":3,"file":"nulless.js","sources":["../src/index.ts"],"sourcesContent":["import { Observable, Subscription } from 'rxjs';\n\n/**\n * A value wrapper to handle null/undefined safely\n */\nexport class Maybe<T>\n{\n    protected _value: T | null;\n\n    constructor(value: T | null = null) {\n        this._value = value;\n    }\n\n    /**\n     * Return nothing maybe\n     */\n    public static nothing<T>(): Maybe<T> {\n        return new Maybe<T>();\n    }\n\n    /**\n     * Return async nothing maybe\n     */\n    public static asyncNothing<T>(): AsyncMaybe<T> {\n        return new AsyncMaybe<T>();\n    }\n\n    /**\n     * Return valuable maybe\n     * @param value value need to be wrapped\n     */\n    public static just<T>(value: T | null): Maybe<T> {\n        return new Maybe<T>(value);\n    }\n\n    /**\n     * Return async valuable maybe \n     * @param value value need to be wrapped\n     */\n    public static asyncJust<T>(value: Observable<T> | null): AsyncMaybe<T> {\n        return new AsyncMaybe<T>(value);\n    }\n\n    /**\n     * Check is it nothing\n     */\n    public isNothing(): boolean {\n        return !this._value;\n    }\n\n    /**\n     * Get value, use this function only if you are 100% sure you can get the not-null value.\n     */\n    public getValue(): T {\n        return this._value as T;\n    }\n\n    /**\n     * Get danger value, use it if you really want to handle null/undefined by yourself.\n     */\n    public getDangerValue(): T | null {\n        return this._value;\n    }\n\n    /**\n     * Transform to another maybe if has value\n     * @param transform transform function\n     */\n    public transform<U>(transform: (value: T) => U): Maybe<U> {\n        return this.isNothing() ? Maybe.nothing<U>() : Maybe.just(transform(this.getValue()));\n    }\n\n    /**\n     * Async transform to another maybe if has value\n     * @param transform transform function\n     */\n    public asyncTransform<U>(transform: (value: T) => Observable<U>): AsyncMaybe<U> {\n        return this.isNothing() ? Maybe.asyncNothing<U>() : Maybe.asyncJust(transform(this.getValue()));\n    }\n\n    /**\n     * Do something if has value\n     * @param doSomething callback function\n     */\n    public do(doSomething: (value: T) => void, defaultValue?: T): Maybe<T> {\n        if (this.isNothing() && !defaultValue) return this;\n        const value = this.isNothing() ? defaultValue as T : this.getValue();\n        doSomething(value);\n        return this;\n    }\n}\n\n/**\n * An async value wrapper to handle null/undefined safely\n */\nexport class AsyncMaybe<T> extends Maybe<Observable<T>> {\n    public subscribe(...args: any[]): Maybe<Subscription> {\n        return this.transform(function (value) {\n            return value.subscribe(...args);\n        });\n    }\n}"],"names":["tslib_1.__extends"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA;;;AAGA;IAII,eAAY,KAAsB;QAAtB,sBAAA,EAAA,YAAsB;QAC9B,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;KACvB;;;;IAKa,aAAO,GAArB;QACI,OAAO,IAAI,KAAK,EAAK,CAAC;KACzB;;;;IAKa,kBAAY,GAA1B;QACI,OAAO,IAAI,UAAU,EAAK,CAAC;KAC9B;;;;;IAMa,UAAI,GAAlB,UAAsB,KAAe;QACjC,OAAO,IAAI,KAAK,CAAI,KAAK,CAAC,CAAC;KAC9B;;;;;IAMa,eAAS,GAAvB,UAA2B,KAA2B;QAClD,OAAO,IAAI,UAAU,CAAI,KAAK,CAAC,CAAC;KACnC;;;;IAKM,yBAAS,GAAhB;QACI,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC;KACvB;;;;IAKM,wBAAQ,GAAf;QACI,OAAO,IAAI,CAAC,MAAW,CAAC;KAC3B;;;;IAKM,8BAAc,GAArB;QACI,OAAO,IAAI,CAAC,MAAM,CAAC;KACtB;;;;;IAMM,yBAAS,GAAhB,UAAoB,SAA0B;QAC1C,OAAO,IAAI,CAAC,SAAS,EAAE,GAAG,KAAK,CAAC,OAAO,EAAK,GAAG,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;KACzF;;;;;IAMM,8BAAc,GAArB,UAAyB,SAAsC;QAC3D,OAAO,IAAI,CAAC,SAAS,EAAE,GAAG,KAAK,CAAC,YAAY,EAAK,GAAG,KAAK,CAAC,SAAS,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;KACnG;;;;;IAMM,kBAAE,GAAT,UAAU,WAA+B,EAAE,YAAgB;QACvD,IAAI,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,YAAY;YAAE,OAAO,IAAI,CAAC;QACnD,IAAM,KAAK,GAAG,IAAI,CAAC,SAAS,EAAE,GAAG,YAAiB,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;QACrE,WAAW,CAAC,KAAK,CAAC,CAAC;QACnB,OAAO,IAAI,CAAC;KACf;IACL,YAAC;CAAA,IAAA;AAED;;;AAGA;IAAmCA,8BAAoB;IAAvD;;KAMC;IALU,8BAAS,GAAhB;QAAiB,cAAc;aAAd,UAAc,EAAd,qBAAc,EAAd,IAAc;YAAd,yBAAc;;QAC3B,OAAO,IAAI,CAAC,SAAS,CAAC,UAAU,KAAK;YACjC,OAAO,KAAK,CAAC,SAAS,OAAf,KAAK,EAAc,IAAI,EAAE;SACnC,CAAC,CAAC;KACN;IACL,iBAAC;CAND,CAAmC,KAAK;;;;;"}